(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},111:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),c=(a(97),a(12)),i=a(13),u=a(17),m=a(14),l=a(18),p=(a(99),a(100),a(102),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",null,this.props.name),r.a.createElement("div",null,r.a.createElement("a",{href:"tel:".concat(this.props.phoneNumber)}),this.props.phoneNumber))}}]),t}(n.Component)),g=(a(104),a(43)),d=(a(108),a(61)),h=a(89),f=a(34),b=(a(111),a(59)),v=a.n(b),y="https://fathomless-mountain-16793.herokuapp.com",E=function(e){var t={"Content-Type":"application/json"};localStorage.getItem("accessToken")&&(t.Authorization="Bearer "+localStorage.getItem("accessToken"));var a={headers:t};return e=Object.assign({},a,e),v()(e)};var N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleCategoryClick=function(e){if(!a.props.readonly){var t=a.state[a.state.currentCategory];if(t.includes(e)){var n=t.filter(function(t){return t!==e});a.setState(Object(f.a)({},a.state.currentCategory,n))}else a.setState(Object(f.a)({},a.state.currentCategory,a.state[a.state.currentCategory].concat([e])))}},a.changeCurrentCategory=function(e){a.setState({currentCategory:e})},a.submitUserData=function(){var e=[];a.state.group.categories.forEach(function(t){a.state[t.name]&&a.state[t.name].length>0&&e.push.apply(e,Object(h.a)(a.state[t.name]))}),a.setState({isSubmiting:!0}),function(e,t){return E({url:y+"/user/talent/"+t,method:"POST",data:{categoryIds:e}})}(e,a.props.match.params.id).then(function(e){a.props.history.push("/success"),a.setState({isSubmiting:!1})}).catch(function(e){a.setState({isSubmiting:!1}),alert("Something went wrong!")})},a.state={isSubmiting:!1,isLoadingPage:!0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params,n=a.id,r=a.phoneNumber,o=a.groupName;n?(e=n,E({url:y+"/user/talent/"+e,method:"GET"})).then(function(e){e.data.group.categories.forEach(function(e){t.setState(Object(f.a)({},e.name,e.selectedItemCategories))}),t.setState({group:e.data.group,user:e.data.user,isLoadingPage:!1,currentCategory:e.data.group.categories.sort(function(e,t){return e.position-t.position})[0].name})}).catch(function(e){d.a.error(e.response.data.message)}):r&&o&&function(e,t){return E({url:y+"/user/"+e+"/"+t,method:"GET"})}(o,r).then(function(e){e.data.group.categories.forEach(function(e){t.setState(Object(f.a)({},e.name,e.selectedItemCategories))}),t.setState({group:e.data.group,user:e.data.user,isLoadingPage:!1,currentCategory:e.data.group.categories.sort(function(e,t){return e.position-t.position})[0].name})}).catch(function(e){d.a.error(e.response.data.message)})}},{key:"render",value:function(){var e=this;if(this.state.isLoadingPage)return r.a.createElement("div",{className:"container"},r.a.createElement(g.a,{className:"loading",type:"loading",style:{fontSize:"80px"}}));var t=this.state,a=t.user,n=t.group,o=n.categories.sort(function(e,t){return e.position-t.position}).map(function(t){return r.a.createElement("div",{className:"main-category-item",key:t.categoryId,onClick:function(){return e.changeCurrentCategory(t.name)}},r.a.createElement("div",{className:"category ".concat(t.name.toLowerCase())},e.state[t.name].length>0?r.a.createElement("span",{className:"badge"},e.state[t.name].length):""),r.a.createElement("span",{style:{marginTop:5,display:"block"}},t.name.toUpperCase()))}),s=this.state[this.state.currentCategory],c=n.categories.filter(function(t){return t.name===e.state.currentCategory})[0].items.sort(function(e,t){return e.position-t.position}).map(function(t){return r.a.createElement("div",{key:t.uuid,className:"category-item-container",onClick:function(){return e.handleCategoryClick(t.uuid)}},r.a.createElement("div",{className:"category-item-icon category ".concat(e.state.currentCategory)}),r.a.createElement("div",{className:"category-item-desc"},t.name),r.a.createElement("span",{className:s.includes(t.uuid)?"checked":"unchecked"}))});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"category-container"},r.a.createElement("div",{className:this.props.readonly?"height-footer":"height-ignore-footer"},r.a.createElement(p,{name:a.name,phoneNumber:a.phoneNumber}),r.a.createElement("div",{className:"group"},r.a.createElement("div",{className:"title"},"Group ",this.state.group.name),r.a.createElement("div",{className:"description"},this.state.group.description)),r.a.createElement("div",{className:"category-header"},r.a.createElement("div",{className:"main-category"},o)),r.a.createElement("div",{className:"category-list"},c)),this.props.readonly?"":r.a.createElement("div",{className:"submit-container"},r.a.createElement("span",null,"PARROQUIA DE SANTO TOMAS DE MORO"),r.a.createElement("button",{onClick:this.submitUserData,className:"submit"},this.state.isSubmiting?"Waiting...":"Salvar"))))}}]),t}(n.Component),O=(a(181),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"success-container"},r.a.createElement("div",{className:"main-success"},r.a.createElement("div",{className:"success"},"Bienvenido !"),r.a.createElement("div",{className:"success-note"},"Gracias.")),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",null,"Presione aqu\xed para mandar la pagina de registro a otro miembro que necesita suscribirse.")))}}]),t}(n.Component)),C=(a(183),n.Component,a(190)),j=a(187),S=a(189),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).saveUserInfo=function(e,t,n){a.setState({name:e,phone:t,email:n}),a.props.history.push("/category")},a.state={name:"",phone:"",email:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,r.a.createElement(j.a,{path:"/success",component:O}),r.a.createElement(j.a,{exact:!0,path:"/talent/:id",render:function(t){return r.a.createElement(N,Object.assign({name:e.state.name,phone:e.state.phone,email:e.state.email},t))}}),r.a.createElement(j.a,{exact:!0,path:"/:groupName/:phoneNumber",render:function(t){return r.a.createElement(N,Object.assign({name:e.state.name,readonly:!0,phone:e.state.phone,email:e.state.email},t))}}))}}]),t}(n.Component),w=Object(S.a)(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(188);s.a.render(r.a.createElement(I.a,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(186)},97:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[92,2,1]]]);
//# sourceMappingURL=main.337f9e08.chunk.js.map